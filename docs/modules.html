

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Package Reference &mdash; adapya-adabas 1.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/SAG2015.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Indices" href="indices.html" />
    <link rel="prev" title="Scripts" href="scripts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> adapya-adabas
          

          
            
            <img src="_static/SAG2015.ico" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="users_guide.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Scripts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Package Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adapya-adabas-api-adabas-programming-interface">adapya.adabas.api - Adabas Programming Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adapya-adabas-fields-functions-related-to-adabas-field-definition">adapya.adabas.fields - functions related to Adabas field definition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">adapya-adabas</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Package Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/modules.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-adapya.adabas.api">
<span id="package-reference"></span><h1>Package Reference<a class="headerlink" href="#module-adapya.adabas.api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="adapya-adabas-api-adabas-programming-interface">
<h2>adapya.adabas.api - Adabas Programming Interface<a class="headerlink" href="#adapya-adabas-api-adabas-programming-interface" title="Permalink to this headline">¶</a></h2>
<p>The adapya.adabas.api module defines the Adabas and Adabasx classes which implement
the Adabas API.</p>
<dl class="py class">
<dt id="adapya.adabas.api.Abdx">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Abdx</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Abdx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Abdx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Acb">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Acb</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Acb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Acb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Acbx">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Acbx</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Acbx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Acbx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Adabas">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Adabas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">rbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">vbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">ibl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">pmutex</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">noexceptions</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">thread</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">multifetch</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">archit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">password</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">cipher</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the data structures and methods for Adabas database access.</p>
<p>These are the Adabas control block and buffers for the
Adabas call() and high level methods for the Adabas API</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fbl</strong> – format buffer length - fb will be allocated of that size</p></li>
<li><p><strong>rbl</strong> – record buffer length - rb will be allocated of that size</p></li>
<li><p><strong>sbl</strong> – search buffer length - sb will be allocated of that size</p></li>
<li><p><strong>vbl</strong> – value buffer length - vb will be allocated of that size</p></li>
<li><p><strong>ibl</strong> – ISN buffer length - ib will be allocated of that size</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">adapya.adabas.api</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="n">Adabas</span><span class="p">(</span><span class="n">fbl</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">rbl</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># create control block, format and record buffer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">cb</span><span class="o">.</span><span class="n">dbid</span><span class="o">=</span><span class="mi">8</span>              <span class="c1"># set database id</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">cb</span><span class="o">.</span><span class="n">fnr</span><span class="o">=</span><span class="mi">11</span>              <span class="c1"># set file number</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">fb</span><span class="o">.</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;AA,AB.&#39;</span>      <span class="c1"># select interesting fields</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">getiseq</span><span class="p">()</span>              <span class="c1"># get ISN in sequence (I option)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">rb</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">50005500ALEXANDRE           BRAUN</span>
</pre></div>
</div>
<p>See the __init__() method for parameter details of creating an
instance of the Adabas class.</p>
<dl class="py method">
<dt id="adapya.adabas.api.Adabas.bt">
<code class="sig-name descname">bt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.bt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.bt" title="Permalink to this definition">¶</a></dt>
<dd><p>Backout Transaction with database
dbid - must be set before calling this function
Note: not ET-data supported, no Multifetch option</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.call">
<code class="sig-name descname">call</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">cbfields</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.call" title="Permalink to this definition">¶</a></dt>
<dd><p>issue Call Adabas with the Adabas control block class variables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cbfields</strong> – list of key value pairs that can be used to
set the control block before the call</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="s1">&#39;L1&#39;</span><span class="p">,</span> <span class="n">cid</span><span class="o">=</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="n">fnr</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">isn</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.checkpoint1">
<code class="sig-name descname">checkpoint1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flush</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">id</span><span class="o">=</span><span class="default_value">'UCP1'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.checkpoint1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.checkpoint1" title="Permalink to this definition">¶</a></dt>
<dd><p>Write Checkpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flush</strong> – = 1 to start a bufferflush</p></li>
<li><p><strong>id</strong> – checkpoint id as 4 byte characterstring</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>self.cb.dbid</strong> – must be set before calling this function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.checkpoint5">
<code class="sig-name descname">checkpoint5</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.checkpoint5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.checkpoint5" title="Permalink to this definition">¶</a></dt>
<dd><p>Write User Checkpoint with data.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self.cb.dbid</strong> – must be set before calling this function</p></li>
<li><p><strong>self.rb</strong> – The record buffer may hold checkpoint data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">etdata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close user session with database</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>etdata</strong> – (optional) ET data to write with end of transaction
requires <em>etid</em> being set with <a class="reference internal" href="#adapya.adabas.api.Adabas.open" title="adapya.adabas.api.Adabas.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Adabas.open()</span></code></a></p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>self.cb.dbid</strong> – must be set before calling this function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">isn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>delete record
if wait is true: wait if record is in hold
wait==0 return with RSP145 - ISN hold by other user</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.et">
<code class="sig-name descname">et</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">etdata</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.et"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.et" title="Permalink to this definition">¶</a></dt>
<dd><p>End Transaction with database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>etdata</strong> – (optional) ET data to write with end of transaction
requires <em>etid</em> being set with <a class="reference internal" href="#adapya.adabas.api.Adabas.open" title="adapya.adabas.api.Adabas.open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Adabas.open()</span></code></a></p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>self.cb.dbid</strong> – must be set before calling this function</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>currently does not support Multifetch option</p>
</div>
<p>Function supports both Adabas and Adabasx calls.</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">saveisn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find records by selection</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>saveisn</strong> – 1 saves ISNs on WORK for later processing under CID</p></li>
<li><p><strong>sort</strong> – ‘FNF2F3’ may specify up to 3 descriptors by which the
selected records are sorted</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.first_unused">
<code class="sig-name descname">first_unused</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dbid</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">fnr</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.first_unused"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.first_unused" title="Permalink to this definition">¶</a></dt>
<dd><p>return first unused ISN from FCB
This number can be used as an upper bound to the number of
records loaded. Do not use this function on an expanded file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>first unused ISN</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">isn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.get" title="Permalink to this definition">¶</a></dt>
<dd><p>get record with ISN=isn</p>
<p>if hold is true: put record in hold (L4)</p>
<p>if wait is true: wait if record is in hold</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.getiseq">
<code class="sig-name descname">getiseq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">isn</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.getiseq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.getiseq" title="Permalink to this definition">¶</a></dt>
<dd><p>get record with ISN in ISN sequence</p>
<p>if hold is true: put record in hold (L4)</p>
<p>if wait is true: wait if record is in hold</p>
<p>if dmap set to a datamap and multifetch is set to &gt; 1  in
the Adabas class getiseq() returns the size of the record
that is located in the datamap buffer at the offset</p>
<p>returns tuple (ISN, record_length)</p>
<p>Example with multifetch:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">c</span><span class="o">.</span><span class="n">getiseq</span><span class="p">(</span><span class="n">dmap</span><span class="o">=</span><span class="n">emp</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">emp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.getnext">
<code class="sig-name descname">getnext</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.getnext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.getnext" title="Permalink to this definition">¶</a></dt>
<dd><p>get next record from ISN list after find()</p>
<p>if hold is true: put record in hold (L4)</p>
<p>if wait is true: wait if record is in hold</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.getopsys">
<code class="sig-name descname">getopsys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.getopsys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.getopsys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Operating System and Adabas Version</p>
<p>Adabas open() call must have been done before</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>string containing Opesys and Adabas version of
database nucleus</p>
</dd>
</dl>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="o">.</span><span class="n">Adabas</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="o">.</span><span class="n">cb</span><span class="o">.</span><span class="n">db</span><span class="o">=</span><span class="mi">10025</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="n">getopsys</span><span class="p">())</span>
<span class="go">Database 10025 is active, V8.3.1 arc=4, opsys=Mainframe (IBM/Siemens/Fujitsu),</span>
<span class="go">    cluster nucid 54321, High-order-byte-first/EBCDIC/IBM-float</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.histo">
<code class="sig-name descname">histo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">descending</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.histo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.histo" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Index by descriptor (deprecated)</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.histogram">
<code class="sig-name descname">histogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seq</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">descending</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Histogram sequence generator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seq</strong> – histogram descriptor, e.g. seq=’AA’</p></li>
<li><p><strong>descending</strong> – read descending if true
(only with seq=’descriptor’ sequence)</p></li>
<li><p><strong>dmap</strong> – Datamap object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>(value, quantity, lowest_ISN, PE_occurrcence)</p>
<p>datamap object if <em>dmap</em> set to a Datamap and
multifetch is set to &gt; 1 in the Adabas class.
The function returns the Datamap object
that is located in the datamap buffer at the offset.
It can be printed with .lprint() (line) or .dprint() (detail)</p>
</p>
</dd>
</dl>
<p>Example with datamap:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">isn</span><span class="p">,</span> <span class="n">xemp</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">seq</span><span class="o">=</span><span class="s1">&#39;AE&#39;</span><span class="p">,</span> <span class="n">dmap</span><span class="o">=</span><span class="n">emp</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">xemp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
<p>Example without datamap:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">emp</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">rb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">isn</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">seq</span><span class="o">=</span><span class="s1">&#39;AE&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">emp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.hold">
<code class="sig-name descname">hold</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">isn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Put record in hold with ISN=isn
(prevent other users from updating the record)</p>
<p>if wait is true: wait if record is in hold</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">isn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">fastde</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for store()</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.logapa">
<code class="sig-name descname">logapa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">loghdr</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">before</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.logapa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.logapa" title="Permalink to this definition">¶</a></dt>
<dd><p>Logging of Adabas call parameters for Acb</p>
<p>Options set in logopt determine which buffer to log</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>before</strong> – set to true if logging before the adabas call</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.multicall">
<code class="sig-name descname">multicall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nc</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.multicall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.multicall" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Multi-call after Acb and buffers have been allocated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nc</strong> – number of commands</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.multifetch">
<code class="sig-name descname">multifetch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dmap</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.multifetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.multifetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator function
:param dmap: datamap of record buffer - offset will be advanced</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>tuple (ISN, datamap)</p>
</dd>
</dl>
<p>Note: currently with ACB or ACBX with one RB/MB pair</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.newbuffer">
<code class="sig-name descname">newbuffer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">size</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.newbuffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.newbuffer" title="Permalink to this definition">¶</a></dt>
<dd><p>resize or define new buffer of &lt;type&gt; in ACB style
if current size &gt; size: old buffer will be reused</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> – one of (‘F’,’R’,’S’,’V’,’I’)</p></li>
<li><p><strong>size</strong> – if &gt; 0: allocate buffer and set it for
for further reference in call parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.nextcid">
<code class="sig-name descname">nextcid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.nextcid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.nextcid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns integer of next CID value for sequence operations
(obsolete: use cidn=-1 to let Adabas automatically return)</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tna</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">tt</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">etid</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">arc</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">acode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wcode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wcharset</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">tz</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a user session with a database.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>self.cb.dbid</strong> – must be set before calling this function</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>acode</strong> – ECS code page number for client data encoding of A fields</p></li>
<li><p><strong>arc</strong> – architecture key is the sum of the following values
- 1: low order byte first, default: high order byte first
- 2: EBCDIC, default: ASCII
- 4: VAX floating-point
- 8: IEEE floating-point, default: IBM 370 float
- default: arc=0 will use data format native to caller’s machine</p></li>
<li><p><strong>etid</strong> – 8 bytes Adabas transaction user id</p></li>
<li><p><strong>mode</strong> – defines share mode of files, default None
if mode is a string it may be a list of modes e.g. ‘UPD=2,ACC=3’</p></li>
<li><p><strong>tna</strong> – time of non-activity</p></li>
<li><p><strong>tt</strong> – transaction time</p></li>
<li><p><strong>tz</strong> – Timezone name according to the Olson Timezone DB / pytz
e.g. ‘Europe/Paris’</p></li>
<li><p><strong>wcode</strong> – ECS code page number for client data encoding of W fields</p></li>
<li><p><strong>wcharset</strong> – IANA name for W field encoding (ADABAS OpenSystems V5.1,
Mainframe V7.4 only recognizes ‘UTF-8’ for other encodings use wcode)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.printopsys">
<code class="sig-name descname">printopsys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.printopsys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.printopsys" title="Permalink to this definition">¶</a></dt>
<dd><p>Print Opsys and Adabas Version
Adabas open() call must have been done before</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.rc">
<code class="sig-name descname">rc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">op1</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">op2</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.rc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.rc" title="Permalink to this definition">¶</a></dt>
<dd><p>Release Command ID as specified in Adabas Control Block CID field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cid</strong> – optional parameter specifies the command id
to be used for the RC</p></li>
<li><p><strong>op1</strong> – optional parameter specifies the value for command option 1
to be used for the RC (default = ‘ ‘)</p></li>
<li><p><strong>op2</strong> – optional parameter specifies the value for command option 2
to be used for the RC (default = ‘ ‘)</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>self.cb.dbid</strong> – must be set before calling this function</p>
</dd>
</dl>
<p>Note: Currently not specific to any resource (ISN List, sequence or format)</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seq</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">descending</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">startisn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">toisn</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in sequence generator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seq</strong> – read sequence
* physical (default) or
* by descriptor (e.g. seq=’AA’, search and value buffer must be set)
* by ISN (seq=’ISN’ or seq=’I’)
* get next (seq=’NEXT’ or seq=’N’)</p></li>
<li><p><strong>descending</strong> – read descending if true
(only with seq=’descriptor’ sequence)</p></li>
<li><p><strong>hold</strong> – put record in hold if <em>hold</em> is true</p></li>
<li><p><strong>wait</strong> – if <em>wait</em> is true: wait if record is in hold</p></li>
<li><p><strong>dmap</strong> – Datamap object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>datamap object if <em>dmap</em> set to a Datamap and
multifetch is set to &gt; 1 in the Adabas class.
The function returns the Datamap object
that is located in the datamap buffer at the offset.
It can be printed with .lprint() (line) or .dprint() (detail)</p>
</dd>
</dl>
<p>Example with datamap:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">isn</span><span class="p">,</span> <span class="n">xemp</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">dmap</span><span class="o">=</span><span class="n">emp</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">xemp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
<p>Example without datamap:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">emp</span><span class="o">.</span><span class="n">buffer</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">rb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">isn</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">seq</span><span class="o">=</span><span class="s1">&#39;ISN&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">emp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.readByIsn">
<code class="sig-name descname">readByIsn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">getnext</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.readByIsn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.readByIsn" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Sequential by ISN
getnext = 1 if getnext else 0</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.readisnseq">
<code class="sig-name descname">readisnseq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.readisnseq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.readisnseq" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in ascending ISN sequence generator (experimental)</p>
<dl class="simple">
<dt>if hold is true:</dt><dd><p>put record in hold (L4)</p>
</dd>
<dt>if wait is true:</dt><dd><p>wait if record is in hold</p>
</dd>
</dl>
<p>if dmap set to a datamap and multifetch is set to &gt; 1  in
the Adabas class function returns the record
that is located in the datamap buffer at the offset</p>
<p>yields tuple (ISN, dmap)</p>
<p>Example with multifetch:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">isn</span><span class="p">,</span> <span class="n">xemp</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">readisnseq</span><span class="p">(</span><span class="n">dmap</span><span class="o">=</span><span class="n">emp</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">xemp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.readphys">
<code class="sig-name descname">readphys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.readphys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.readphys" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in physical sequence generator (tested ok)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hold</strong> – put record in hold (L5) if <em>hold</em> is true</p></li>
<li><p><strong>wait</strong> – if <em>wait</em> is true: wait if record is in hold</p></li>
<li><p><strong>dmap</strong> – Datamap object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>datamap object if <em>dmap</em> set to a Datamap and
multifetch is set to &gt; 1 in the Adabas class.
The function returns the Datamap object
that is located in the datamap buffer at the offset.
It can be printed with .lprint() (line) or .dprint() (detail)</p>
</dd>
</dl>
<p>Example with multifetch:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">xemp</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">readphys</span><span class="p">(</span><span class="n">dmap</span><span class="o">=</span><span class="n">emp</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">xemp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.readphysical">
<code class="sig-name descname">readphysical</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.readphysical"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.readphysical" title="Permalink to this definition">¶</a></dt>
<dd><p>Read physical</p>
<dl class="simple">
<dt>if hold is true:</dt><dd><p>put record in hold (L4)</p>
</dd>
<dt>if wait is true:</dt><dd><p>wait if record is in hold</p>
</dd>
</dl>
<p>if dmap set to a datamap and multifetch is set to &gt; 1  in
the Adabas class readphysical() returns the size of the record
that is located in the datamap buffer at the offset</p>
<p>Example with multifetch:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">c</span><span class="o">.</span><span class="n">readphysical</span><span class="p">(</span><span class="n">dmap</span><span class="o">=</span><span class="n">emp</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">emp</span><span class="o">.</span><span class="n">lprint</span><span class="p">()</span>
<span class="go">12345678 John      W     Adkinson</span>
<span class="go">12345699 Peter     O     Smith</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.searchcrits">
<code class="sig-name descname">searchcrits</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">view</span></em>, <em class="sig-param"><span class="n">crit</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.searchcrits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.searchcrits" title="Permalink to this definition">¶</a></dt>
<dd><p>free text form search mapped to search and value buffer entries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view</strong> – <ul>
<li><p>instance of Datamap with search fields attributed with
fn=adabas_field_name</p></li>
<li><p>dict of Adabas shortname, length, format tuples
accessed by longname or</p></li>
</ul>
</p></li>
<li><p><strong>crit</strong> – <p>selection criteria string (tokens separated by blank)
e.g. ” name = BELL and department = ADM1* “</p>
<p>Comparison operators: &lt; &gt; &lt;= &gt;= = != and Adabas equivalent LT etc.
with from-to  written as field = ADKI* or  field FROM ‘A’ TO ‘B’</p>
<p>Connecting operators: AND OR and Adabas defined D, O, R, Y, N</p>
<p>Currently no parenthesis: i.e. criteria evaluated from left to right
execept the Y</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.searchfield">
<code class="sig-name descname">searchfield</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fieldname</span></em>, <em class="sig-param"><span class="n">fieldlen</span></em>, <em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">crit</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">ffrm</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">first</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">last</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.searchfield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.searchfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a search value into the value buffer</p>
<p>If last character of value contains ‘*’ a from-to search is created</p>
<p>Supported are: string and unicode values (with even field length in bytes):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">the</span> <span class="n">search</span> <span class="n">criterion</span> <span class="ow">is</span> <span class="n">TO</span><span class="p">,</span> <span class="n">LT</span> <span class="ow">or</span> <span class="n">LE</span><span class="p">:</span>
    <span class="n">the</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">expanded</span> <span class="k">with</span> <span class="s1">&#39;ÿ&#39;</span> <span class="n">to</span> <span class="n">fieldlen</span>
    <span class="k">if</span> <span class="n">crit</span> <span class="o">==</span> <span class="s1">&#39;TO&#39;</span><span class="p">:</span> <span class="n">crit</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">if</span> <span class="n">the</span> <span class="n">search</span> <span class="n">criterion</span> <span class="ow">is</span> <span class="n">other</span> <span class="n">than</span> <span class="n">EQ</span><span class="p">,</span> <span class="nb">set</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">param</span>
    <span class="n">crit</span> <span class="n">to</span> <span class="n">GE</span><span class="p">,</span> <span class="n">GT</span><span class="p">,</span> <span class="n">LE</span><span class="p">,</span> <span class="n">LT</span> <span class="ow">or</span> <span class="n">NE</span><span class="o">.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parm ffrm</dt>
<dd class="field-odd"><p>one of Adabas formats gets inserted to search buffer
if numeric format (U,P,F,B or G): the input integer value
is converted to appropriate Adabas value in value buffer</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>first</strong> – if true it is the first search criterion in the buffers.
Reposition search and value buffer to start positions</p></li>
<li><p><strong>last</strong> – if true it is the last search criterion in the buffers
Terminate search buffer</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Note: Don’t forget to terminate search buffer with ‘.’ or set the</dt><dd><p>parameter last=True</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.setadaid">
<code class="sig-name descname">setadaid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">thread</span></em>, <em class="sig-param"><span class="n">adaidlev</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.setadaid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.setadaid" title="Permalink to this definition">¶</a></dt>
<dd><p>Set Adabas communication id
This method is called during intialization of Adabas/Adabasx object
only if thread is not zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>thread</strong> – thread number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.setcb">
<code class="sig-name descname">setcb</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">cbfields</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.setcb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.setcb" title="Permalink to this definition">¶</a></dt>
<dd><p>Set Adabas control block class variables in one call</p>
<p>cbfields = list of key value pairs that can be used to
set the control block</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="o">.</span><span class="n">setcb</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="s1">&#39;L1&#39;</span><span class="p">,</span> <span class="n">cid</span><span class="o">=</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="n">fnr</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">isn</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.setoffs">
<code class="sig-name descname">setoffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">btyp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.setoffs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.setoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>set start offsets within Multi-Call buffer</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.showCB">
<code class="sig-name descname">showCB</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">before</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.showCB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.showCB" title="Permalink to this definition">¶</a></dt>
<dd><p>Print Adabas control block interpreted</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>before</strong> – if not zero show CB fields relevant for before
the adabas call (e.g. no response code, cmd time)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.sortisns">
<code class="sig-name descname">sortisns</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">saveisn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">'ISN'</span></em>, <em class="sig-param"><span class="n">cid</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">descending</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.sortisns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.sortisns" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort ISN list saved on WORK or given in ISN buffer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cid</strong> – Command id of ISN list to be sorted. If cid is blank
the ISN list is taken from the ISN buffer</p></li>
<li><p><strong>descending</strong> – if the ISN list is to be sorted by desciptors
setting descending=1 will sort by descending values
otherwise it will be ascending</p></li>
<li><p><strong>saveisn</strong> – 1 saves ISNs on WORK for later processing under CID</p></li>
<li><p><strong>sort</strong> – <dl class="simple">
<dt>‘FNF2F3’ may specify up to 3 descriptors by which the</dt><dd><p>selected records are sorted.</p>
</dd>
</dl>
<p>’ISN’ sorts the ISNs in ISN sequence (default)</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.store">
<code class="sig-name descname">store</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">isn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">fastde</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.store" title="Permalink to this definition">¶</a></dt>
<dd><p>Store record into Adabas file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>isn</strong> – ISN if record to be stored under that ISN
otherwise let Adabas assign ISN</p></li>
<li><p><strong>fastde</strong> – field name of descriptor that will be stored
in ascending sequence. When specified the
normal index blocks will be fully filled rather than
half full due to not splitting the last block. This
can half the number of new normal index blocks.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabas.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">isn</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabas.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabas.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update record
hold==1 put record into hold status before update
wait_on_hold==0 return with RSP145 - ISN hold by other user
isn = record to update</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.AdabasException">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">AdabasException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">apa</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#AdabasException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.AdabasException" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance will have set the following values:</p>
<p>self.value  is the Adabas response string</p>
<dl class="simple">
<dt>self.apa    is the Adabas call parameters that were used when</dt><dd><p>the error occurred</p>
</dd>
</dl>
<p>Example on how to call it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">subclassed</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="k">with</span> <span class="k">class</span> <span class="nc">DatabaseError</span><span class="p">(</span><span class="n">AdabasException</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">AdabasException</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="n">apa</span><span class="p">)</span>
<span class="k">except</span> <span class="n">AdabasException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">adalog</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;AdabasException&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
    <span class="n">dump</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">apa</span><span class="o">.</span><span class="n">acb</span><span class="p">,</span><span class="n">log</span><span class="o">=</span><span class="n">adalog</span><span class="o">.</span><span class="n">warning</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Adabasx">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Adabasx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">rbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">vbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">ibl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">mbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">password</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">pbl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">pmutex</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ubl</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">thread</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">multifetch</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">archit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">noexceptions</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">cipher</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">clientinfo</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabasx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabasx" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of Adabas classes to issue Adabas calls and write/read related buffers</p>
<dl class="py method">
<dt id="adapya.adabas.api.Adabasx.addbuffer">
<code class="sig-name descname">addbuffer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">buffer</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabasx.addbuffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabasx.addbuffer" title="Permalink to this definition">¶</a></dt>
<dd><p>create ABD for buffer and add abd and buffer of &lt;type&gt; to list of bufs and abds
:param type:  buffer type is one of (‘F’,’R’,’M’,’S’,’V’,’I’,’P’,’U’)
:param size:  if size &gt; 0: reallocate buffer
:returns abd: related ABD for further reference
:raises ProgrammingError: when invalid buffer type given</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabasx.call">
<code class="sig-name descname">call</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">cbfields</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabasx.call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabasx.call" title="Permalink to this definition">¶</a></dt>
<dd><p>issue Call Adabas with the Adabas control block class variables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cbfields</strong> – list of key value pairs that can be used to
set the control block before the call</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="s1">&#39;L1&#39;</span><span class="p">,</span> <span class="n">cid</span><span class="o">=</span><span class="s1">&#39;ABCD&#39;</span><span class="p">,</span> <span class="n">fnr</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">isn</span><span class="o">=</span><span class="mi">12345</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabasx.logapa">
<code class="sig-name descname">logapa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">loghdr</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">before</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabasx.logapa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabasx.logapa" title="Permalink to this definition">¶</a></dt>
<dd><p>Logging of Adabas call parameters for Acb</p>
<p>Options set in logopt determine which buffer to log</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>before</strong> – set to true if logging before the adabas call</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabasx.newbuffer">
<code class="sig-name descname">newbuffer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="n">size</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabasx.newbuffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabasx.newbuffer" title="Permalink to this definition">¶</a></dt>
<dd><p>resize existing buffer &lt;type&gt; if smaller
:param type:  is one of (‘F’,’R’,’M’,’S’,’V’,’I’,’P’,’U’)
:param size:  if size &gt; 0: reallocate buffer
:returns abd: related ABD for further reference</p>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabasx.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tna</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">tt</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">etid</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">arc</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">acode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wcode</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">wcharset</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">tz</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabasx.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabasx.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a user session with a database.</p>
<p>C{self.cb.dbid} must be set before calling this function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>acode</strong> – ECS code page number for client data encoding of A fields</p></li>
<li><p><strong>arc</strong> – architecture key is the sum of the following values:</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p>1: low order byte first, 2 - EBCDIC,</p></li>
<li><p>4: VAX</p></li>
<li><p>8: IEEE floating-point;</p></li>
<li><p>defaults: high order byte first, ASCII, IBM 370 float</p></li>
</ul>
<p>if arc=0 will use data format native to caller’s machine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>etid</strong> – 8 bytes Adabas transaction user id</p></li>
<li><p><strong>mode</strong> – defines share mode of files, default None
(in the future: list of sublist of mode, file elements)</p></li>
<li><p><strong>tna</strong> – time of non-activity</p></li>
<li><p><strong>tt</strong> – transaction time</p></li>
<li><p><strong>tz</strong> – Timezone name according to the Olson Timezone DB / pytz
e.g. ‘Europe/Paris’</p></li>
<li><p><strong>wcode</strong> – ECS code page number for client data encoding of W fields</p></li>
<li><p><strong>wcharset</strong> – IANA name for W field encoding (ADABAS OpenSystems V5.1,
Mainframe only supports ‘UTF-8’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="adapya.adabas.api.Adabasx.showCB">
<code class="sig-name descname">showCB</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">before</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adabasx.showCB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adabasx.showCB" title="Permalink to this definition">¶</a></dt>
<dd><p>Print Adabas control block interpreted</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>before</strong> – if not zero show CB fields relevant for before
the adabas call (e.g. no response code, cmd time)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Adaid">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Adaid</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adaid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adaid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Adasafinfo">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Adasafinfo</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Adasafinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Adasafinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.ClientInfoLuw">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">ClientInfoLuw</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#ClientInfoLuw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.ClientInfoLuw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.DataEnd">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">DataEnd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">apa</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#DataEnd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.DataEnd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.DatabaseError">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">DatabaseError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">apa</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#DatabaseError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.DatabaseError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.Error">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Error</code><a class="reference internal" href="_modules/adapya/adabas/api.html#Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Infomap">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Infomap</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">fields</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Infomap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Infomap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Infomap2">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Infomap2</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">fields</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Infomap2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Infomap2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.InterfaceError">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">InterfaceError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">apa</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#InterfaceError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.InterfaceError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.InvalidSearchString">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">InvalidSearchString</code><a class="reference internal" href="_modules/adapya/adabas/api.html#InvalidSearchString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.InvalidSearchString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Mcbuh">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Mcbuh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Mcbuh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Mcbuh" title="Permalink to this definition">¶</a></dt>
<dd><p>Multicall Buffer Header with offsets to global or array of elements</p>
</dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Mcstoff">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Mcstoff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">nc</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Mcstoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Mcstoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Multicall Buffer set up start offset array</p>
</dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Mfele">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Mfele</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Mfele"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Mfele" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="adapya.adabas.api.Mfhdr">
<em class="property">class </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Mfhdr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buffer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#Mfhdr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Mfhdr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.NotYetImplementedError">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">NotYetImplementedError</code><a class="reference internal" href="_modules/adapya/adabas/api.html#NotYetImplementedError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.NotYetImplementedError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.ProgrammingError">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">ProgrammingError</code><a class="reference internal" href="_modules/adapya/adabas/api.html#ProgrammingError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.ProgrammingError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="adapya.adabas.api.Warning">
<em class="property">exception </em><code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">Warning</code><a class="reference internal" href="_modules/adapya/adabas/api.html#Warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.Warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.cbyte">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">cbyte</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#cbyte"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.cbyte" title="Permalink to this definition">¶</a></dt>
<dd><p>condense key string to one byte</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.eventinfo">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">eventinfo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dbid</span></em>, <em class="sig-param"><span class="n">printinfo</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">detailed</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">version</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#eventinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.eventinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>return event information after response code
initially only for response 145</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbid</strong> – dbid</p></li>
<li><p><strong>printinfo</strong> – when set eventinfo will be printed</p></li>
<li><p><strong>detailed</strong> – when set and printinfo is set eventinfo
will be printed in detail</p></li>
<li><p><strong>version</strong> – ‘8.2’ Adabas version 8.2 view
‘’ - latest version (default)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.getip">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">getip</code><span class="sig-paren">(</span><em class="sig-param">family=&lt;AddressFamily.AF_INET: 2&gt;</em>, <em class="sig-param">host='10.255.255.255'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#getip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.getip" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine own IP address</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.s1">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">s1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">byteorder</span><span class="o">=</span><span class="default_value">'&#64;'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#s1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.s1" title="Permalink to this definition">¶</a></dt>
<dd><p>return string s converted to bytes after 1 byte inclusive length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> – input string or (bytes,bytearray)</p></li>
<li><p><strong>byteorder</strong> – byteorder for input unicode string may be ‘&lt;’ little or ‘&gt;’ big endian,
default is unicode internal</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.s2">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">s2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">byteorder</span><span class="o">=</span><span class="default_value">'&#64;'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#s2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.s2" title="Permalink to this definition">¶</a></dt>
<dd><p>return string s after 2 bytes inclusive length
byteorder may be ‘&lt;’ little or ‘&gt;’ big endian</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.s4">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">s4</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">byteorder</span><span class="o">=</span><span class="default_value">'&#64;'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#s4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.s4" title="Permalink to this definition">¶</a></dt>
<dd><p>return string s after 4 bytes inclusive length</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.setsaf">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">setsaf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">userid</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">newpass</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">encrypter</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#setsaf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.setsaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Set session userid and password with ADASAF databases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>userid</strong> – user id for security system where database resides</p></li>
<li><p><strong>password</strong> – security system password</p></li>
<li><p><strong>encrypter</strong> – optional call back routine that encrypts
logon data matching installation-defined decryption
in remote database</p></li>
</ul>
</dd>
</dl>
<p>The data is used in the Adalnk for login to a
protected database request userid and password.</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.setuidpw">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">setuidpw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dbid</span></em>, <em class="sig-param"><span class="n">userid</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">encrypter</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#setuidpw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.setuidpw" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Set session userid and password with LUW databases.</dt><dd><p>Starting with LUW Adabas 6.5</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbid</strong> – database id to which userid and password apply</p></li>
<li><p><strong>userid</strong> – user id for security system where database resides</p></li>
<li><p><strong>password</strong> – security system password</p></li>
<li><p><strong>encrypter</strong> – optional call back routine that encrypts
logon data matching installation-defined decryption
in remote database</p></li>
</ul>
</dd>
</dl>
<p>The data is used in the Adalnk for login to a
protected database request userid and password.</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.sl4">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">sl4</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">byteorder</span><span class="o">=</span><span class="default_value">'&#64;'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#sl4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.sl4" title="Permalink to this definition">¶</a></dt>
<dd><p>return string with packed length of string. Used for AAL elements</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.api.space_calculation_AC">
<code class="sig-prename descclassname">adapya.adabas.api.</code><code class="sig-name descname">space_calculation_AC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">maxrec</span></em>, <em class="sig-param"><span class="n">blocksize</span><span class="o">=</span><span class="default_value">2544</span></em>, <em class="sig-param"><span class="n">rabnsize</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/api.html#space_calculation_AC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.api.space_calculation_AC" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate space requirements for an Adabas file in
in the Address Converter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maxrec</strong> – number of records</p></li>
<li><p><strong>blocksize</strong> – ASSO blocksize and</p></li>
<li><p><strong>rabnsize</strong> – DATA storage RABN size defined for database (3 or 4)</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">space_calculation_AC</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span><span class="n">blocksize</span><span class="o">=</span><span class="mi">2004</span><span class="p">)</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">space_calculation_AC</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span><span class="n">blocksize</span><span class="o">=</span><span class="mi">2004</span><span class="p">,</span><span class="n">rabnsize</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">space_calculation_AC</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">,</span><span class="n">rabnsize</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">1572328</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">space_calculation_AC</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">,</span><span class="n">rabnsize</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1179246</span>
</pre></div>
</div>
</dd></dl>

</div>
<span class="target" id="module-adapya.adabas.fields"></span><div class="section" id="adapya-adabas-fields-functions-related-to-adabas-field-definition">
<h2>adapya.adabas.fields - functions related to Adabas field definition<a class="headerlink" href="#adapya-adabas-fields-functions-related-to-adabas-field-definition" title="Permalink to this headline">¶</a></h2>
<p>The fields module defines the following functions:</p>
<ul class="simple">
<li><p>standardfieldlength-dictionary  for std lengths of Datetime fields</p></li>
<li><p>readfdt():  reads FDT per LF/S or LF/X and return list of fields</p></li>
<li><p>fndefstr(): printable fndef string from readfdt element</p></li>
<li><p>fdtfile2list: convert FDT on file to list structure</p></li>
<li><p>genfdt(): create LF/S structure from list of fields</p></li>
<li><p>str2fndef(): create fndef string from field definition string</p></li>
</ul>
<dl class="py function">
<dt id="adapya.adabas.fields.fdtfile2fieldstring">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">fdtfile2fieldstring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdtfile</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/fields.html#fdtfile2fieldstring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.fields.fdtfile2fieldstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a string of field definitions separated by % (percent sign)
reading from a fdtfile or just take the string and bring into shape:</p>
<blockquote>
<div><p>e.g.  1,AA,20,A,NC,NN%1,F4,4,F,NU,DT=E(UNIXTIME)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fdtfile</strong> – fdtfile or field string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple (number of fields, field string)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.fields.fdtfile2list">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">fdtfile2list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">withname</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/fields.html#fdtfile2list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.fields.fdtfile2list" title="Permalink to this definition">¶</a></dt>
<dd><p>Read FDT from file ‘filename’
return list of fdtlines with comments and
whitespace removed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – if file name is a string read from the file
otherwise it is assumed to be a StringIO object</p></li>
<li><p><strong>withname</strong> – if set to 1 the longname is added to the fndef
string separated by semicolon</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.fields.fndefstr">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">fndefstr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fnlev</span></em>, <em class="sig-param"><span class="n">fn</span></em>, <em class="sig-param"><span class="n">fnlen</span></em>, <em class="sig-param"><span class="n">fnform</span></em>, <em class="sig-param"><span class="n">fnopt</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/fields.html#fndefstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.fields.fndefstr" title="Permalink to this definition">¶</a></dt>
<dd><p>return fndef string from field element</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fndefstr</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;UT&#39;</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;U&#39;</span><span class="p">,{</span><span class="s1">&#39;NU&#39;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;DE&#39;</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;DT&#39;</span><span class="p">:</span><span class="s1">&#39;TIME&#39;</span><span class="p">})</span>
<span class="go">&#39;1,UT,6,U,DE,DT=E(TIME),NU&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.fields.genfdt">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">genfdt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fbuf</span></em>, <em class="sig-param"><span class="n">fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/fields.html#genfdt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.fields.genfdt" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate FDE i.e. LF/S elements into buffer
Convert data to mainframe architecture, i.e. in
network byte order and EBCDIC</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fbuf</strong> – writable buffer</p></li>
<li><p><strong>fields</strong> – <p>a list where each element is a tuple with
level, field name, length, format and options</p>
<dl class="simple">
<dt>Example tuple:</dt><dd><p>(1,’C7’,0,’A’, {‘LB’: None,’MU’: None,’NU’: None,’NV’: None})</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>size of FDT in buffer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.fields.makefdt">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">makefdt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buf</span></em>, <em class="sig-param"><span class="n">infdt</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/fields.html#makefdt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.fields.makefdt" title="Permalink to this definition">¶</a></dt>
<dd><p>Create LF/S structure in buffer buf from FDT definition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>infdt</strong> – filename
or field defns separated by % - ‘1,AA,2,A%1,AB,1,B’
or StringIO object with FDT definition lines
or a list/tuple of field elements of the form
1,’UT’,6,’U’,{‘NU’:None,’DE’:None,’DT’:’TIME’}</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>length of LF buffer <em>buf</em> filled</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.fields.readfdt">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">readfdt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dbid</span></em>, <em class="sig-param"><span class="n">fnr</span></em>, <em class="sig-param"><span class="n">printfdt</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">fd</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pwd</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">xopt</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">specials</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/fields.html#readfdt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.fields.readfdt" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the FDT for a given dbid / file number and optionally
print it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbid</strong> – database id</p></li>
<li><p><strong>fnr</strong> – file number</p></li>
<li><p><strong>printfdt</strong> – if set to True the FDT will be printed (optional)</p></li>
<li><p><strong>fd</strong> – file descriptor to which FDT will be written (optional)</p></li>
<li><p><strong>pwd</strong> – Adabas password for accessing the FDT (optional)</p></li>
<li><p><strong>xopt</strong> – LF option selection
- 0: LF/S with ACB
- 1: LF/X with ACBX and extended LF (MF82/OS62)
- 2: LF/F with ACBX and extended LF (MF82/OS62)
- 3: LF/I with ACBX (internal FDT format)</p></li>
<li><p><strong>specials</strong> – (default True) return also special fields/descriptors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>List of FDT elements. Each element is a tuple of the form</p>
<p>(level, fnname, fnlen, fnformat,options)</p>
<p>options being a dictionary of options</p>
<p>e.g. (‘1’,’C7’,’0’,’A’, {‘LB’: None,’MU’: None,’NU’: None,’NV’: None})</p>
<p>For special fields a ordered dictionary is returned:</p>
<blockquote>
<div><dl class="simple">
<dt>SUB, SUPER,</dt><dd><p>e.g. {‘SP’: (options, parentlist-from-to)}</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">todo</dt>
<dd class="field-odd"><p>HYPER, COLL, PHON, REF</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="adapya.adabas.fields.standardfieldlength">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">standardfieldlength</code><em class="property"> = {('DATE', 'B'): 4, ('DATE', 'F'): 4, ('DATE', 'P'): 5, ('DATE', 'U'): 8, ('DATETIME', 'B'): 6, ('DATETIME', 'F'): 8, ('DATETIME', 'P'): 8, ('DATETIME', 'U'): 14, ('NATDATE', 'B'): 3, ('NATDATE', 'F'): 4, ('NATDATE', 'P'): 4, ('NATDATE', 'U'): 7, ('NATTIME', 'B'): 6, ('NATTIME', 'F'): 8, ('NATTIME', 'P'): 7, ('NATTIME', 'U'): 13, ('TIME', 'B'): 3, ('TIME', 'F'): 4, ('TIME', 'P'): 4, ('TIME', 'U'): 6, ('TIMESTAMP', 'B'): 0, ('TIMESTAMP', 'F'): 0, ('TIMESTAMP', 'P'): 11, ('TIMESTAMP', 'U'): 20, ('UNIXTIME', 'B'): 5, ('UNIXTIME', 'F'): 8, ('UNIXTIME', 'P'): 6, ('UNIXTIME', 'U'): 12, ('XTIMESTAMP', 'B'): 8, ('XTIMESTAMP', 'F'): 8, ('XTIMESTAMP', 'P'): 10, ('XTIMESTAMP', 'U'): 18}</em><a class="headerlink" href="#adapya.adabas.fields.standardfieldlength" title="Permalink to this definition">¶</a></dt>
<dd><p>Define standard field lengths depending of datetime and format
used for datetime conversions to/from other than default format</p>
</dd></dl>

<dl class="py function">
<dt id="adapya.adabas.fields.str2fndef">
<code class="sig-prename descclassname">adapya.adabas.fields.</code><code class="sig-name descname">str2fndef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/adapya/adabas/fields.html#str2fndef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#adapya.adabas.fields.str2fndef" title="Permalink to this definition">¶</a></dt>
<dd><p>return fndef string from field definition string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verbose</strong> – print resulting fndef line</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fnlev</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">fnlen</span><span class="p">,</span> <span class="n">fnform</span><span class="p">,</span> <span class="n">fnopt</span> <span class="o">=</span> <span class="n">str2fndef</span><span class="p">(</span><span class="s1">&#39;1,UT,6,U,DE,DT=E(TIME),NU&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span> <span class="n">fnlev</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">fnlen</span><span class="p">,</span> <span class="n">fnform</span><span class="p">,</span> <span class="n">fnopt</span><span class="p">)</span>
<span class="go">1,&#39;UT&#39;,6,&#39;U&#39;,{&#39;NU&#39;:None,&#39;DE&#39;:None,&#39;DT&#39;:&#39;TIME&#39;}</span>
</pre></div>
</div>
<dl class="simple">
<dt>todo: special descriptors not yet supported</dt><dd><p>PE option set with members of PE group?</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="indices.html" class="btn btn-neutral float-right" title="Indices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="scripts.html" class="btn btn-neutral float-left" title="Scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2004-2023, software AG.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>